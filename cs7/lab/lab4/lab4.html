
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta name="description" content ="CS7 Lab" />
    <meta name="keywords" content ="CS7" />
    <meta name="author" content ="" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="viewport" content="width=device-width">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inconsolata|Roboto:300,400,500|Work+Sans:400,700">
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/mono-blue.css">
    <link rel="icon" href="/assets/images/favicon.ico">

    

    <title>
Lab 4: Lists, and Data Abstraction | CS 7
</title>
  </head>

  <body id="index" class="home">

    <main id="content" class="container">
      
<div class='row'>
  <div class='col-md-9'>
    <header>
      <h1>
        
Lab 4: Lists, and Data Abstraction

        
        <ul class="inline-block list-inline">
          <li><a href="lab4.zip" class="label label-outline">lab4.zip</a></li>
        </ul>
        
      </h1>
    </header>
    

<p><i>Due at 11:59pm on Friday, 07/19/2019.</i></p>




<h2 id='starter-files'>Starter Files</h2>


<p>Download <a href="lab4.zip">lab4.zip</a>.
Inside the archive, you will find starter files for the questions in this lab.</p>


<h2 id='submission'>Submission</h2>

<p>By the end of this lab, submit your code.</p>





    
<h1 id="topics">Topics</h1>


<p>Consult this section if you need a refresher on the material for this lab. It's
okay to skip directly to <a href="#required-questions">the questions</a> and refer back
here should you get stuck.</p>


        <button id='toggle-1' class='btn btn-outline btn-lg alwaystoggle toggle'>
        List Introduction<noscript> (enable JavaScript)</noscript>
        </button>
        <div class="solution toggle-1">

<h2 id="lists">Lists</h2>

<p>Lists are Python data structures that can store multiple values. Each value
can be any type and can even be another list! A list is written as a comma
separated list of expressions within square brackets:</p>

<pre><code>&gt;&gt;&gt; list_of_nums = [1, 2, 3, 4]
&gt;&gt;&gt; list_of_bools = [True, True, False, False]
&gt;&gt;&gt; nested_lists = [1, [2, 3], [4, [5]]]</code></pre>

<p>Each element in a list is assigned an index. Lists are <em>zero-indexed</em>, meaning
their indices start at <code>0</code> and increase in sequential order. To retrieve an element
from a list, use list indexing:</p>

<pre><code>&gt;&gt;&gt; lst = [6, 5, 4, 3, 2, 1]
&gt;&gt;&gt; lst[0]
6
&gt;&gt;&gt; lst[3]
3</code></pre>

<p>Often times we need to know how long a list is when we're working with it. To find
the length of a list, call the function <code>len</code> on it:</p>

<pre><code>&gt;&gt;&gt; len([])
0
&gt;&gt;&gt; len([2, 4, 6, 8, 10])
5</code></pre>

<blockquote><p><strong>Tip:</strong> Recall that empty lists, <code>[]</code>, are false-y values. Therefore, you
can use an if statement like the following if you only want to do operations on
non-empty lists:</p>

<pre><code>if lst:
    # Do stuff with the elements of list</code></pre>

<p>This is equivalent to:</p>

<pre><code>if len(lst) &gt; 0:
    # Do stuff</code></pre></blockquote>

<p>You can also create a copy of some portion of the list using list slicing. To slice
a list, use this syntax: <code>lst[&lt;start index&gt;:&lt;end index&gt;]</code>. This expression
evaluates to a new list containing the elements of <code>lst</code> starting at and including
the element at <code>&lt;start index&gt;</code> up to but not including the element at <code>end index</code>.</p>

<pre><code>&gt;&gt;&gt; lst = [True, False, True, True, False]
&gt;&gt;&gt; lst[1:4]
[False, True, True]
&gt;&gt;&gt; lst[:3]  # Start index defaults to 0
[True, False, True]
&gt;&gt;&gt; lst[3:]  # End index defaults to len(lst)
[True, False]
&gt;&gt;&gt; lst[:]  # Creates a copy of the whole list
[True, False, True, True, False]</code></pre>

</div>

<br>

        <button id='toggle-2' class='btn btn-outline btn-lg alwaystoggle toggle'>
        List Comprehensions<noscript> (enable JavaScript)</noscript>
        </button>
        <div class="solution toggle-2">

<h2 id="list-comprehensions">List Comprehensions</h2>

<p>List comprehensions are a compact and powerful way of creating new lists
out of sequences. The general syntax for a list comprehension is the following:</p>

<pre><code>[&lt;expression&gt; for &lt;element&gt; in &lt;sequence&gt; if &lt;conditional&gt;]</code></pre>

<p>The syntax is designed to read like English: <em>"Compute the expression for each
element in the sequence if the conditional is true for that element."</em></p>

<p>Let's see it in action:</p>

<pre><code>&gt;&gt;&gt; [i**2 for i in [1, 2, 3, 4] if i % 2 == 0]
[4, 16]</code></pre>

<p>Here, for each element <code>i</code> in <code>[1, 2, 3, 4]</code> that satisfies <code>i % 2 == 0</code>, we
evaluate the expression <code>i**2</code> and insert the resulting values into a new list.
In other words, this list comprehension will create a new list that contains
the square of each of the even elements of the original list.</p>

<p>If we were to write this using a for statement, it would look like this:</p>

<pre><code>&gt;&gt;&gt; lst = []
&gt;&gt;&gt; for i in [1, 2, 3, 4]:
...     if i % 2 == 0:
...         lst += [i**2]
&gt;&gt;&gt; lst
[4, 16]</code></pre>

<blockquote><p><strong>Note:</strong> The <code>if</code> clause in a list comprehension is optional.
For example, you can just say:</p>

<pre><code>&gt;&gt;&gt; [i**2 for i in [1, 2, 3, 4]]
[1, 4, 9, 16]</code></pre>

</div></blockquote>

<br>

        <button id='toggle-3' class='btn btn-outline btn-lg alwaystoggle toggle'>
        Data Abstraction<noscript> (enable JavaScript)</noscript>
        </button>
        <div class="solution toggle-3">

<h2 id="data-abstraction">Data Abstraction</h2>


<p>Data abstraction is a powerful concept in computer science that
allows programmers to treat code as objects -- for example,
car objects, chair objects, people objects, etc. That way,
programmers don't have to worry about <em>how</em> code is
implemented -- they just have to know <em>what</em> it does.</p>

<p>Data abstraction mimics how we think about the world. When you want to
drive a car, you don't need to know how the
engine was built or what kind of material the tires are made of.
You just have to know how to turn the wheel and press the gas pedal.</p>

<p>An abstract data type consists of two types of functions:</p>

<ul>
  <li><strong>Constructors</strong>: functions that build the abstract data type.</li>
  <li><strong>Selectors</strong>: functions that retrieve information from the data type.</li>
</ul>

<p>Programmers design ADTs to abstract away how information is stored and
calculated such that the end user does <em>not</em> need to know how constructors and
selectors are implemented. The nature of <em>abstract</em> data types allows
whoever uses them to assume that the functions have been written correctly and
work as described.
</div></p>


<h1 id="required-questions">Required Questions</h1>



<h2 id="lists-practice">Lists Practice</h2>


<h3 class="question" id="q1">Q1: List Indexing</h3>


<p>For each of the following lists, what is the list indexing expression that evaluates to
<code>7</code>? For example, if <code>x = [7]</code>, then the answer would be <code>x[0]</code>. You can use the
interpreter or Python Tutor to experiment with your answers.</p>

<pre><code>&gt;&gt;&gt; x = [1, 3, [5, 7], 9]
<div class="alt prompt-1">______</div><div class="solution prompt-1">&#x78;&#x5b;&#x32;&#x5d;&#x5b;&#x31;&#x5d;</div>
&gt;&gt;&gt; x = [[3, [5, 7], 9]]
<div class="alt prompt-1">______</div><div class="solution prompt-1">&#x78;&#x5b;&#x30;&#x5d;&#x5b;&#x31;&#x5d;&#x5b;&#x31;&#x5d;</div></code></pre>
        <button id='prompt-1' class='btn btn-outline btn-lg solutiontoggle prompt'>
        Toggle Solution<noscript> (enable JavaScript)</noscript>
        </button>
        

<p>What would Python display? If you get stuck, try it out in the Python interpreter!</p>

<pre><code>&gt;&gt;&gt; lst = [3, 2, 7, [84, 83, 82]]
&gt;&gt;&gt; lst[4]
<div class="alt prompt-2">______</div><div class="solution prompt-2">&#x45;&#x72;&#x72;&#x6f;&#x72;</div>
&gt;&gt;&gt; lst[3][0]
<div class="alt prompt-2">______</div><div class="solution prompt-2">&#x38;&#x34;</div></code></pre>
        <button id='prompt-2' class='btn btn-outline btn-lg solutiontoggle prompt'>
        Toggle Solution<noscript> (enable JavaScript)</noscript>
        </button>
        

<h3 class="question" id="q2">Q2: Couple</h3>

<p>Implement the function <code>couple</code>, which takes in two lists and
returns a list that contains lists with i-th elements of two sequences
coupled together. You can assume the lengths of two sequences are the same.
Try using a list comprehension.</p>

<blockquote><p><em>Hint</em>: You may find the built in <a href="https://www.w3schools.com/python/ref_func_range.asp">range</a> function helpful.</p></blockquote>



<pre><code>def couple(s1, s2):
    &quot;&quot;&quot;Return a list that contains lists with i&#x2d;th elements of two sequences
    coupled together.
    &gt;&gt;&gt; s1 = [1, 2, 3]
    &gt;&gt;&gt; s2 = [4, 5, 6]
    &gt;&gt;&gt; couple(s1, s2)
    [[1, 4], [2, 5], [3, 6]]
    &gt;&gt;&gt; s3 = [&#x27;c&#x27;, 6]
    &gt;&gt;&gt; s4 = [&#x27;s&#x27;, &#x27;1&#x27;]
    &gt;&gt;&gt; couple(s3, s4)
    [[&#x27;c&#x27;, &#x27;s&#x27;], [6, &#x27;1&#x27;]]
    &quot;&quot;&quot;
    assert len(s1) == len(s2)
<div class="alt solution-1">    "*** YOUR CODE HERE ***"
</div><div class="solution solution-1">&#x20;&#x20;&#x20;&#x20;&#x72;&#x65;&#x74;&#x75;&#x72;&#x6e;&#x20;&#x5b;&#x5b;&#x73;&#x31;&#x5b;&#x69;&#x5d;&#x2c;&#x20;&#x73;&#x32;&#x5b;&#x69;&#x5d;&#x5d;&#x20;&#x66;&#x6f;&#x72;&#x20;&#x69;&#x20;&#x69;&#x6e;&#x20;&#x72;&#x61;&#x6e;&#x67;&#x65;&#x28;&#x30;&#x2c;&#x20;&#x6c;&#x65;&#x6e;&#x28;&#x73;&#x31;&#x29;&#x29;&#x5d;</div></code></pre>


        <button id='solution-1' class='btn btn-outline btn-lg solutiontoggle solution'>
        Toggle Solution<noscript> (enable JavaScript)</noscript>
        </button>
        

<h3 class="question" id="q3">Q3: Enumerate</h3>

<p>Implement <code>enumerate</code>, which pairs the elements of a sequence with their indices,
offset by a starting value. <code>enumerate</code> takes a sequence <code>s</code> and a starting value
<code>start</code>. It returns a list of pairs, in whichthe i-th element is <code>i + start</code>
paired with the i-th element of <code>s</code>. For example:</p>

<pre><code>&gt;&gt;&gt; enumerate([&#x27;maps&#x27;, 21, 47], start=1)
&gt;&gt;&gt; [[1, &#x27;maps&#x27;], [2, 21], [3, 47]]</code></pre>

<blockquote><p><em>Hint</em>: Consider using <code>couple</code> from Question 2!</p>

<p><em>Hint 2</em>: You may find the built in <a href="https://www.w3schools.com/python/ref_func_range.asp">range</a> function helpful.</p></blockquote>



<pre><code>def enumerate(s, start=0):
    &quot;&quot;&quot;Returns a list of lists, where the i&#x2d;th list contains i+start and
    the i&#x2d;th element of s.
    &gt;&gt;&gt; enumerate([6, 1, &#x27;a&#x27;])
    [[0, 6], [1, 1], [2, &#x27;a&#x27;]]
    &gt;&gt;&gt; enumerate(&#x27;five&#x27;, 5)
    [[5, &#x27;f&#x27;], [6, &#x27;i&#x27;], [7, &#x27;v&#x27;], [8, &#x27;e&#x27;]]
    &quot;&quot;&quot;
<div class="alt solution-2">    "*** YOUR CODE HERE ***"
</div><div class="solution solution-2">&#x20;&#x20;&#x20;&#x20;&#x72;&#x65;&#x74;&#x75;&#x72;&#x6e;&#x20;&#x63;&#x6f;&#x75;&#x70;&#x6c;&#x65;&#x28;&#x72;&#x61;&#x6e;&#x67;&#x65;&#x28;&#x73;&#x74;&#x61;&#x72;&#x74;&#x2c;&#x20;&#x73;&#x74;&#x61;&#x72;&#x74;&#x2b;&#x6c;&#x65;&#x6e;&#x28;&#x73;&#x29;&#x29;&#x2c;&#x20;&#x73;&#x29;</div></code></pre>


        <button id='solution-2' class='btn btn-outline btn-lg solutiontoggle solution'>
        Toggle Solution<noscript> (enable JavaScript)</noscript>
        </button>
        


<h2 id="city-data-abstraction">City Data Abstraction</h2>


<p>Say we have an abstract data type for cities. A city has a name, a latitude
coordinate, and a longitude coordinate.</p>

<p>Our ADT has one <strong>constructor</strong>:</p>

<ul>
  <li><code>make_city(name, lat, lon)</code>: Creates a city object with the given name, latitude,
  and longitude.</li>
</ul>

<p>We also have the following <strong>selectors</strong> in order to get the information for each city:</p>

<ul>
  <li><code>get_name(city)</code>: Returns the city's name</li>
  <li><code>get_lat(city)</code>: Returns the city's latitude</li>
  <li><code>get_lon(city)</code>: Returns the city's longitude</li>
</ul>

<p>Here is how we would use the constructor and selectors to create cities and
extract their information:</p>

<pre><code>&gt;&gt;&gt; berkeley = make_city(&#x27;Berkeley&#x27;, 122, 37)
&gt;&gt;&gt; get_name(berkeley)
&#x27;Berkeley&#x27;
&gt;&gt;&gt; get_lat(berkeley)
122
&gt;&gt;&gt; new_york = make_city(&#x27;New York City&#x27;, 74, 40)
&gt;&gt;&gt; get_lon(new_york)
40</code></pre>

<p>All of the selector and constructor functions can be found in the lab file, if you
are curious to see how they are implemented. However, the point of data
abstraction is that we do not need to know how an abstract data type is
implemented, but rather just how we can interact with and use the data type.</p>

<h3 class="question" id="q4">Q4: Distance</h3>

<p>We will now implement the function <code>distance</code>, which computes the
distance between two city objects. Recall that the distance between two
coordinate pairs <code>(x1, y1)</code> and <code>(x2, y2)</code> can be found by calculating
the <code>sqrt</code> of <code>(x1 &#x2d; x2)**2 + (y1 &#x2d; y2)**2</code>. We have already imported
<code>sqrt</code> for your convenience. Use the latitude and longitude of a city as
its coordinates; you'll need to use the selectors to access this info!</p>



<pre><code>from math import sqrt
def distance(city1, city2):
    &quot;&quot;&quot;
    &gt;&gt;&gt; city1 = make_city(&#x27;city1&#x27;, 0, 1)
    &gt;&gt;&gt; city2 = make_city(&#x27;city2&#x27;, 0, 2)
    &gt;&gt;&gt; distance(city1, city2)
    1.0
    &gt;&gt;&gt; city3 = make_city(&#x27;city3&#x27;, 6.5, 12)
    &gt;&gt;&gt; city4 = make_city(&#x27;city4&#x27;, 2.5, 15)
    &gt;&gt;&gt; distance(city3, city4)
    5.0
    &quot;&quot;&quot;
<div class="alt solution-3">    "*** YOUR CODE HERE ***"
</div><div class="solution solution-3">&#x20;&#x20;&#x20;&#x20;&#x6c;&#x61;&#x74;&#x5f;&#x31;&#x2c;&#x20;&#x6c;&#x6f;&#x6e;&#x5f;&#x31;&#x20;&#x3d;&#x20;&#x67;&#x65;&#x74;&#x5f;&#x6c;&#x61;&#x74;&#x28;&#x63;&#x69;&#x74;&#x79;&#x31;&#x29;&#x2c;&#x20;&#x67;&#x65;&#x74;&#x5f;&#x6c;&#x6f;&#x6e;&#x28;&#x63;&#x69;&#x74;&#x79;&#x31;&#x29;&#xa;&#x20;&#x20;&#x20;&#x20;&#x6c;&#x61;&#x74;&#x5f;&#x32;&#x2c;&#x20;&#x6c;&#x6f;&#x6e;&#x5f;&#x32;&#x20;&#x3d;&#x20;&#x67;&#x65;&#x74;&#x5f;&#x6c;&#x61;&#x74;&#x28;&#x63;&#x69;&#x74;&#x79;&#x32;&#x29;&#x2c;&#x20;&#x67;&#x65;&#x74;&#x5f;&#x6c;&#x6f;&#x6e;&#x28;&#x63;&#x69;&#x74;&#x79;&#x32;&#x29;&#xa;&#x20;&#x20;&#x20;&#x20;&#x72;&#x65;&#x74;&#x75;&#x72;&#x6e;&#x20;&#x73;&#x71;&#x72;&#x74;&#x28;&#x28;&#x6c;&#x61;&#x74;&#x5f;&#x31;&#x20;&#x2d;&#x20;&#x6c;&#x61;&#x74;&#x5f;&#x32;&#x29;&#x2a;&#x2a;&#x32;&#x20;&#x2b;&#x20;&#x28;&#x6c;&#x6f;&#x6e;&#x5f;&#x31;&#x20;&#x2d;&#x20;&#x6c;&#x6f;&#x6e;&#x5f;&#x32;&#x29;&#x2a;&#x2a;&#x32;&#x29;&#xa;&#xa;&#x23;&#x20;&#x56;&#x69;&#x64;&#x65;&#x6f;&#x20;&#x77;&#x61;&#x6c;&#x6b;&#x74;&#x68;&#x72;&#x6f;&#x75;&#x67;&#x68;&#x3a;&#x20;&#x68;&#x74;&#x74;&#x70;&#x73;&#x3a;&#x2f;&#x2f;&#x79;&#x6f;&#x75;&#x74;&#x75;&#x2e;&#x62;&#x65;&#x2f;&#x34;&#x76;&#x42;&#x30;&#x36;&#x59;&#x6d;&#x72;&#x69;&#x63;&#x6f;</div></code></pre>


        <button id='solution-3' class='btn btn-outline btn-lg solutiontoggle solution'>
        Toggle Solution<noscript> (enable JavaScript)</noscript>
        </button>
        

<h3 class="question" id="q5">Q5: Closer city</h3>

<p>Next, implement <code>closer_city</code>, a function that takes a latitude,
longitude, and two cities, and returns the name of the city that is
relatively closer to the provided latitude and longitude.</p>

<p>You may only use the selectors and constructors introduced above and the
<code>distance</code> function you just defined for this question.</p>

<blockquote><p><strong>Hint</strong>: How can use your <code>distance</code> function to find the distance between
the given location and each of the given cities?</p></blockquote>



<pre><code>def closer_city(lat, lon, city1, city2):
    &quot;&quot;&quot;
    Returns the name of either city1 or city2, whichever is closest to
    coordinate (lat, lon).

    &gt;&gt;&gt; berkeley = make_city(&#x27;Berkeley&#x27;, 37.87, 112.26)
    &gt;&gt;&gt; stanford = make_city(&#x27;Stanford&#x27;, 34.05, 118.25)
    &gt;&gt;&gt; closer_city(38.33, 121.44, berkeley, stanford)
    &#x27;Stanford&#x27;
    &gt;&gt;&gt; bucharest = make_city(&#x27;Bucharest&#x27;, 44.43, 26.10)
    &gt;&gt;&gt; vienna = make_city(&#x27;Vienna&#x27;, 48.20, 16.37)
    &gt;&gt;&gt; closer_city(41.29, 174.78, bucharest, vienna)
    &#x27;Bucharest&#x27;
    &quot;&quot;&quot;
<div class="alt solution-4">    "*** YOUR CODE HERE ***"
</div><div class="solution solution-4">&#x20;&#x20;&#x20;&#x20;&#x6e;&#x65;&#x77;&#x5f;&#x63;&#x69;&#x74;&#x79;&#x20;&#x3d;&#x20;&#x6d;&#x61;&#x6b;&#x65;&#x5f;&#x63;&#x69;&#x74;&#x79;&#x28;&#x27;&#x61;&#x72;&#x62;&#x27;&#x2c;&#x20;&#x6c;&#x61;&#x74;&#x2c;&#x20;&#x6c;&#x6f;&#x6e;&#x29;&#xa;&#x20;&#x20;&#x20;&#x20;&#x64;&#x69;&#x73;&#x74;&#x31;&#x20;&#x3d;&#x20;&#x64;&#x69;&#x73;&#x74;&#x61;&#x6e;&#x63;&#x65;&#x28;&#x63;&#x69;&#x74;&#x79;&#x31;&#x2c;&#x20;&#x6e;&#x65;&#x77;&#x5f;&#x63;&#x69;&#x74;&#x79;&#x29;&#xa;&#x20;&#x20;&#x20;&#x20;&#x64;&#x69;&#x73;&#x74;&#x32;&#x20;&#x3d;&#x20;&#x64;&#x69;&#x73;&#x74;&#x61;&#x6e;&#x63;&#x65;&#x28;&#x63;&#x69;&#x74;&#x79;&#x32;&#x2c;&#x20;&#x6e;&#x65;&#x77;&#x5f;&#x63;&#x69;&#x74;&#x79;&#x29;&#xa;&#x20;&#x20;&#x20;&#x20;&#x69;&#x66;&#x20;&#x64;&#x69;&#x73;&#x74;&#x31;&#x20;&#x3c;&#x20;&#x64;&#x69;&#x73;&#x74;&#x32;&#x3a;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x72;&#x65;&#x74;&#x75;&#x72;&#x6e;&#x20;&#x67;&#x65;&#x74;&#x5f;&#x6e;&#x61;&#x6d;&#x65;&#x28;&#x63;&#x69;&#x74;&#x79;&#x31;&#x29;&#xa;&#x20;&#x20;&#x20;&#x20;&#x72;&#x65;&#x74;&#x75;&#x72;&#x6e;&#x20;&#x67;&#x65;&#x74;&#x5f;&#x6e;&#x61;&#x6d;&#x65;&#x28;&#x63;&#x69;&#x74;&#x79;&#x32;&#x29;&#xa;&#xa;&#x23;&#x20;&#x56;&#x69;&#x64;&#x65;&#x6f;&#x20;&#x77;&#x61;&#x6c;&#x6b;&#x74;&#x68;&#x72;&#x6f;&#x75;&#x67;&#x68;&#x3a;&#x20;&#x68;&#x74;&#x74;&#x70;&#x73;&#x3a;&#x2f;&#x2f;&#x79;&#x6f;&#x75;&#x74;&#x75;&#x2e;&#x62;&#x65;&#x2f;&#x4f;&#x77;&#x77;&#x64;&#x7a;&#x5f;&#x4b;&#x6d;&#x38;&#x37;&#x67;</div></code></pre>


        <button id='solution-4' class='btn btn-outline btn-lg solutiontoggle solution'>
        Toggle Solution<noscript> (enable JavaScript)</noscript>
        </button>
        


<h3 class="question" id="q6">Q6: Don't violate the abstraction barrier!</h3>

<blockquote><p>Note: this question has no code-writing component (if you implemented <code>distance</code>
and <code>closer_city</code> correctly!)</p></blockquote>

<p>When writing functions that use an ADT, we should use the constructor(s) and
selector(s) whenever possible instead of assuming the ADT's implementation.
Relying on a data abstraction's underlying implementation is known as
<em>violating the abstraction barrier</em>, and we never want to do this!</p>

<p>It's possible that you passed the doctests for <code>distance</code> and <code>closer_city</code>
even if you violated the abstraction barrier. To check whether or not you
did so, run the following command:</p>

<p>The <code>make_check_abstraction</code> function exists only for the doctest, which swaps
out the implementations of the <code>city</code> abstraction with something else, runs
the tests from the previous two parts, then restores the original abstraction.</p>

<p>The nature of the abstraction barrier guarantees that changing the implementation of an ADT
shouldn't affect the functionality of any programs that use that ADT, as long
as the constructors and selectors were used properly.</p>

<p>If you passed the tests for the previous questions but not this one,
the fix is simple!  Just replace any code that violates the abstraction
barrier, i.e. creating a city with a new list object or indexing into a city,
with the appropriate constructor or selector.</p>

<p>Make sure that your functions pass the tests with both the first and the second
implementations of the City ADT and that you understand why they should work
for both before moving on.</p>


<h1 id="optional-question">Optional Question</h1>


<p>This question can be found in <code>lab4_extra.py</code>.</p>

<h3 class="question" id="q7">Q7: Squares only</h3>

<p>Implement the function <code>squares</code>, which takes in a list of positive integers.
It returns a list that contains the square roots of the elements of the original
list that are perfect squares. Try using a list comprehension.</p>

<blockquote><p>You may find the <code>round</code> function useful.</p>

<pre><code>&gt;&gt;&gt; round(10.5)
10
&gt;&gt;&gt; round(10.51)
11</code></pre></blockquote>



<pre><code>def squares(s):
    &quot;&quot;&quot;Returns a new list containing square roots of the elements of the
    original list that are perfect squares.

    &gt;&gt;&gt; seq = [8, 49, 8, 9, 2, 1, 100, 102]
    &gt;&gt;&gt; squares(seq)
    [7, 3, 1, 10]
    &gt;&gt;&gt; seq = [500, 30]
    &gt;&gt;&gt; squares(seq)
    []
    &quot;&quot;&quot;
<div class="alt solution-5">    "*** YOUR CODE HERE ***"
</div><div class="solution solution-5">&#x20;&#x20;&#x20;&#x20;&#x72;&#x65;&#x74;&#x75;&#x72;&#x6e;&#x20;&#x5b;&#x72;&#x6f;&#x75;&#x6e;&#x64;&#x28;&#x6e;&#x20;&#x2a;&#x2a;&#x20;&#x30;&#x2e;&#x35;&#x29;&#x20;&#x66;&#x6f;&#x72;&#x20;&#x6e;&#x20;&#x69;&#x6e;&#x20;&#x73;&#x20;&#x69;&#x66;&#x20;&#x6e;&#x20;&#x3d;&#x3d;&#x20;&#x72;&#x6f;&#x75;&#x6e;&#x64;&#x28;&#x6e;&#x20;&#x2a;&#x2a;&#x20;&#x30;&#x2e;&#x35;&#x29;&#x20;&#x2a;&#x2a;&#x20;&#x32;&#x5d;</div></code></pre>

<div class="solution solution-5">

<p>It might be helpful to construct a skeleton list comprehension to begin
with:</p>

<pre><code>[sqrt(x) for x in s if is_perfect_square(x)]</code></pre>

<p>This is great, but it requires that we have an <code>is_perfect_square</code>
function. How might we check if something is a perfect square?</p>

<ul>
  <li>If the square root of a number is a whole number, then it is a perfect
  square. For example, <code>sqrt(61) = 7.81024...</code> (not a perfect square) and
  <code>sqrt(49) = 7</code> (perfect square).</li>
  <li><p>Once we obtain the square root of the number, we just need to check if
  something is a whole number. The <code>is_perfect_square</code> function might
  look like:</p>

<pre><code>def is_perfect_square(x):
    return is_whole(sqrt(x))</code></pre></li>
  <li>One last piece of the puzzle: to check if a number is whole, we just
  need to see if it has a decimal or not. The way we've chosen to do it in
  the solution is to compare the original number to the round version
  (thus removing all decimals), but a technique employing floor division
  (<code>//</code>) or something else entirely could work too.</li>
</ul>

<p>We've written all these helper functions to solve this problem, but they
are actually all very short. Therefore, we can just copy the body of each
into the original list comprehension, arriving at the solution we finally
present.</p>

<p>Video walkthrough: <a href="https://youtu.be/YwLFB9paET0">https://youtu.be/YwLFB9paET0</a></p>

</div>

        <button id='solution-5' class='btn btn-outline btn-lg solutiontoggle solution'>
        Toggle Solution<noscript> (enable JavaScript)</noscript>
        </button>
        

<h3 class="question" id="q8">Q8: Key of Min Value</h3>

<p>The built-in <code>min</code> function takes a collection of elements (such as a list or a
dictionary) and returns the collection's smallest element. The <code>min</code> function
also takes in an optional keyword argument called <code>key</code>, which must be a
one-argument function. The <code>key</code> function is called on each element of the
collection, and the return values are used for comparison. For example:</p>

<pre><code>&gt;&gt;&gt; min([&#x2d;1, 0, 1])                    # no key argument; return smallest input
&#x2d;1
&gt;&gt;&gt; min([&#x2d;1, 0, 1], key=lambda x: x*x) # return input with the smallest square
0</code></pre>

<p>Implement <code>key_of_min_value</code>, which takes in a dictionary <code>d</code> and returns the
key that corresponds to the minimum value in <code>d</code>. This behavior differs from
just calling <code>min</code> on a dictionary, which would return the smallest key. <em>Make
sure your solution is only one line and uses the <code>min</code> function.</em></p>



<pre><code>def key_of_min_value(d):
    &quot;&quot;&quot;Returns the key in a dict d that corresponds to the minimum value of d.
    &gt;&gt;&gt; letters = {&#x27;a&#x27;: 6, &#x27;b&#x27;: 5, &#x27;c&#x27;: 4, &#x27;d&#x27;: 5}
    &gt;&gt;&gt; min(letters)
    &#x27;a&#x27;
    &gt;&gt;&gt; key_of_min_value(letters)
    &#x27;c&#x27;
    &quot;&quot;&quot;
<div class="alt solution-6">    "*** YOUR CODE HERE ***"
</div><div class="solution solution-6">&#x20;&#x20;&#x20;&#x20;&#x72;&#x65;&#x74;&#x75;&#x72;&#x6e;&#x20;&#x6d;&#x69;&#x6e;&#x28;&#x64;&#x2c;&#x20;&#x6b;&#x65;&#x79;&#x3d;&#x6c;&#x61;&#x6d;&#x62;&#x64;&#x61;&#x20;&#x78;&#x3a;&#x20;&#x64;&#x5b;&#x78;&#x5d;&#x29;</div></code></pre>


        <button id='solution-6' class='btn btn-outline btn-lg solutiontoggle solution'>
        Toggle Solution<noscript> (enable JavaScript)</noscript>
        </button>
        

  </div>

  <div class='col-md-3 sticky'>
    <nav class='hidden-print hidden-sm hidden-xs sidebar'>
      <ul>
  <li><a href="#topics">Topics</a></li>
  <ul>
    <li><a href="#lists">Lists</a></li>
    <li><a href="#list-comprehensions">List Comprehensions</a></li>
    <li><a href="#data-abstraction">Data Abstraction</a></li>
  </ul>
  <li><a href="#required-questions">Required Questions</a></li>
  <ul>
    <li><a href="#lists-practice">Lists Practice</a></li>
    <ul>
      <li><a href="#q1">Q1: List Indexing</a></li>
      <li><a href="#q2">Q2: Couple</a></li>
      <li><a href="#q3">Q3: Enumerate</a></li>
    </ul>
    <li><a href="#city-data-abstraction">City Data Abstraction</a></li>
    <ul>
      <li><a href="#q4">Q4: Distance</a></li>
      <li><a href="#q5">Q5: Closer city</a></li>
      <li><a href="#q6">Q6: Don't violate the abstraction barrier!</a></li>
    </ul>
  </ul>
  <li><a href="#optional-question">Optional Question</a></li>
  <ul>
    <li><a href="#q7">Q7: Squares only</a></li>
    <li><a href="#q8">Q8: Key of Min Value</a></li>
  </ul>
</ul>
    </nav>
  </div>
</div>

    </main>


<script>
  $('.sidebar ul').addClass('nav nav-stacked noselect');
  $('body').scrollspy({
    target: '.sidebar',
    offset: 40
  });
</script>


<script type="text/javascript" src="/assets/js/config.js"></script>
<script>
/*
This code is duplicated in lab-check-in.html. Doesn't work if we move it to a separate
file because of JQuery document ready concurrency issues.
*/
$(function() {
  var release_solutions = false;

  if (release_solutions) {
    $('.solutiontoggle').css('display', 'inline-block');
    $('.solutiontoggle').click(function() {
      var solution_id = $(this).attr('id');
      $('div.' + solution_id).slideToggle(600);
    });
  }
  $('.alwaystoggle').css('display', 'inline-block');
  $('.alwaystoggle').click(function() {
    var solution_id = $(this).attr('id');
    $('div.' + solution_id).slideToggle(600);
  });
});
</script>


  </body>
</html>